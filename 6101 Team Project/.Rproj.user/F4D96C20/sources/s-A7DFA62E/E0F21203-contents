---
  title: "R Assignment - Estimation"
author: "Edwin Lo, GWU Intro to Data Science DATS 6101"
# date: "today"
date: "February 25,2022"
output:
  html_document:
  code_folding: hide
number_sections: false
toc: yes
toc_depth: 3
toc_float: yes
pdf_document:
  toc: yes
toc_depth: '3'
---
  
```{r init, include=FALSE}
# some of common options (and the defaults) are: 
# include=T, eval=T, echo=T, results='hide'/'asis'/'markup',..., collapse=F, warning=T, message=T, error=T, cache=T, fig.width=6, fig.height=4, fig.dim=c(6,4) #inches, fig.align='left'/'center','right', 
library(ezids)
# knitr::opts_chunk$set(warning = F, results = "markup", message = F)
knitr::opts_chunk$set(warning = F, results = "hide", message = F)
options(scientific=T, digits = 3) 
# options(scipen=9, digits = 3) 
# ‘scipen’: integer. A penalty to be applied when deciding to print numeric values in fixed or exponential notation.  Positive values bias towards fixed and negative towards scientific notation: fixed notation will be preferred unless it is more than ‘scipen’ digits wider.
# use scipen=999 to prevent scientific notation at all times
```

# HW Assignment - Estimation 

This exercise uses the graduate school admissions dataset from the applicants to a higher-ed institute. The dataset is LogRegAdmit.csv.  
The variables in the dataset are:  
  
* `admit`: 0 or 1 (False or True)
* `gre`: gre score
* `gpa`: grade point average at undergraduate level
* `rank`: the ranking of the applicant's undergraduate institute, 1, 2, 3, or 4


## Grad School Admissions

### Question 1  

**After importing the dataset as Adata, check the structure. Make sure admit and rank are stored as factors, instead of numeric or integers. (Hint: Use as.factor() function or factor() function).**

```{r}

typeof(LogRegAdmit$admit)
typeof(LogRegAdmit$rank)

LogRegAdmit$admit <-as.factor(LogRegAdmit$admit)
LogRegAdmit$rank <-as.factor(LogRegAdmit$rank)

is.factor(LogRegAdmit$admit)
is.factor(LogRegAdmit$rank)
```


```{r}
summary(LogRegAdmit)
```

From the summary we see that rejection rate is higher than the acceptance rate. 


### Question 2  
**Construct t-intervals for the gre and gpa data for all applicants at 0.80 level and 0.99 level. **

```{r}

t.test(LogRegAdmit$gre, conf.level = 0.80)
t.test(LogRegAdmit$gre, conf.level = 0.99)

t.test(LogRegAdmit$gpa,conf.level = 0.80)
t.test(LogRegAdmit$gpa,conf.level = 0.99)
```

Notice that as the confidence level increases from 80% to 99%, the interval gets wider for each variable. This ensures that the higher confidence level will increase the likelihood of catching the correct value. Here, the interval of the 80% confidence is captured or overlaps in its entirety in the interval for the 99% confidence. This occurs for both the GRE and GPA variables. 



### Question 3  
**Repeat the same calculation for gre in Question 2 but for admitted (1) and rejected (0) separately. (You can subset them first.) Between the admitted and rejected, does the two intervals overlap at 0.80 level? And at 0.99 level?**

```{r}
# Subsettting
admitted <- subset(LogRegAdmit, admit==1)
rejected <- subset(LogRegAdmit, admit==0)


# T-test of GRE at 80%
t.test(admitted$gre, conf.level = 0.80)
t.test(rejected$gre, conf.level = 0.80)

#T-test of GRE at 99%
t.test(admitted$gre,conf.level=0.99)
t.test(rejected$gre,conf.level=0.99)
```

At the 80% level, there is an overlap in 24 points between  582 to 606. While at the 99% level, there is an overlap in 89 points between 555 to to 644 between the rejected and admitted. Again, we see that the higher confidence interval has widened the interval and thereby, the overlapping interval as well. 

### Question 4   
**Make (box-) plots showing the gre distribution among applicants from different school rankings for the admitted and rejected separately. Please use ggplot for this. The x-variable should be rank, and the y-variable should be gre.**


```{r}

ggplot(LogRegAdmit, aes(x=rank, y=gre, fill=admit)) + 
    geom_boxplot() +
    facet_wrap(~rank, scale="free") +
    ggtitle("Plot of GRE by School Rank")



```



### Question 5   
**Repeat Question 2 and Question 3 for gpa. Do the two groups have t-intervals overlap at 0.80 level? At 0.99 level?**

```{r}

# T-test of GPA at 80%
t.test(admitted$gpa, conf.level = 0.80)
t.test(rejected$gpa, conf.level = 0.80)

#T-test of GPA at 99%
t.test(admitted$gpa,conf.level=0.99)
t.test(rejected$gpa,conf.level=0.99)



```

In the case of GPA, we see that the intervals at the 80% confidence interval have no overlap while at the 99% confidence level, there is an overlap only at the value of 3.40. 


### Question 6   
**Repeat Question 4 for gpa. Make (box-) plots showing the gpa distribution among applicants from different school rankings for the admitted and rejected separately. Again, use ggplot.**

```{r}

ggplot(LogRegAdmit, aes(x=rank, y=gpa, fill=admit)) + 
    geom_boxplot() +
    facet_wrap(~rank, scale="free") +
    ggtitle("Plot of GPA by School Rank")
```



### Question 7  
**As EDA from the charts and the t-interval calculations you produced, do you observe any potential effects between gre/gpa/rank on admissions? Explain briefly. **

From the t-intervals we see that there are overlapping points in the each of the GRE and GPA variables. When filtered by rank, in both cases we see that each level of rank has the admitted and rejected data boxes over lapping. Second, we see that the middle lines of plots are closer to each other in both cases, although higher for admitted data points. Also the variability of data changes with each school rank. All of this, there is indication of potential effects between gre/gpa/rank. Althoughfurther tests need to be conducted to quantify this effect. 
